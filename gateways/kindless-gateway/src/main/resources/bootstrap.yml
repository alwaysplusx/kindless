server.port: ${server.port}

spring:
  application:
    name: ${project.artifactId}
  cloud:
    nacos:
      discovery:
        server-addr: ${nacos.server-addr}
        namespace: ${nacos.discovery.namespace}
      config:
        namespace: ${nacos.config.namespace}
        name: ${spring.application.name}
        file-extension: yaml
    gateway:
      routes:
        - id: http.bin
          uri: https://httpbin.org/
          predicates:
            - Path=/bin/**
        - id: kindless-service-user
          uri: lb://kindless-service-user/
          predicates:
            - Path=/u/**
          filters:
            - RewritePath=/u(?<segment>/?.*), $\{segment}
management:
  endpoints:
    web:
      exposure:
        include: '*'
  endpoint:
    health:
      show-details: always